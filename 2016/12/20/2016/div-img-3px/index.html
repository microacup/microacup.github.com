<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="theme-color" content="#202020"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="keywords" content="CSS,HTML,坑,"><meta name="description" content="解决包含img的div底部多出了3px"><link rel="icon" type="image/x-icon" href="/logo.png"><title>解决包含img的div底部多出了3px [ 大新闻 ]</title><link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" href="/css/microb.css"></head><body><nav class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed"><ul class="pure-menu-list float-r clearfix"><li class="pure-menu-item toc-menu"><a id="menu-main-post" class="pure-menu-link" href="javascript:;"><img class="menu-icon" src="/logo.png" alt="MENU"></a></li></ul><a class="pure-menu-heading" href="/"><h1 class="title">大新闻</h1></a></nav><div class="container" id="content-outer"><div class="inner" id="content-inner"><article class="post" id="post"><header class="post-header text-center"><h1 class="title">解决包含img的div底部多出了3px</h1><time class="time" datetime="2016-12-20T07:27:19.000Z">2016-12-20</time><hr></header><div class="post-content"><h2 id="先说现象"><a href="#先说现象" class="headerlink" title="先说现象"></a>先说现象</h2><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"top"</span> <span class="attr">style</span>=<span class="string">"background-color:#f00;"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://p1.bpimg.com/567571/578c5c39b2f1e41f.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"body"</span>&gt;</span></div><div class="line">  ...代表</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure><p>上面的示例代码，会让<code>top</code>出现3px的<code>margin-bottom</code> ，就是这么吊。</p><p>其中&lt;!DOCTYPE HTML&gt;是必须滴。</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>A.给img设置display: block</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">img</span> &#123;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>B.给img设置vertical-align</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">img</span> &#123;</div><div class="line">  <span class="attribute">vertical-align</span>: top/middle/...;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>C.给img他爸爸设置font-size: 0</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.top</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>D. …</p><p>上面测试都通过，想知道为什么？。</p><h2 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h2><p>据传说，这是浏览器在给y.g这种腿长的字母预留的空间，大概…就是3px，可能是因为img长的太像它们了，所以也给了3px。</p><blockquote><p>This problem is caused by the image behaving like a character of text (and so leaving a space below it where the hanging part of a “y” or “g” would go), and is solved by using the <code>vertical-align</code> CSS property to indicate that no such space is needed. Almost any value of <code>vertical-align</code> will do; I’m fond of <code>middle</code>, personally.</p><p>The problem is caused by <code>vertical-align: baseline</code>, which is the default for most elements and indicates that that space should be reserved. Some of the other legal values for <code>vertical-align</code> also reserve this space, but <code>top</code>, <code>text-top</code>, <code>middle</code>, <code>bottom</code> and <code>text-bottom</code> do not. <code>sub</code> also doesn’t appear to, but I’m leery of trusting that one. – <a href="http://stackoverflow.com/users/638544/brilliand" target="_blank" rel="external">Brilliand</a> <a href="http://stackoverflow.com/questions/10844205/html-5-strange-img-always-adds-3px-margin-at-bottom/10844318#comment14122249_10844318" target="_blank" rel="external">Jun 1 ‘12 at 4:20</a></p></blockquote><p>参考：</p><ul><li><a href="http://lab.yqc.im/css-img-div-3px.html" target="_blank" rel="external">http://lab.yqc.im/css-img-div-3px.html</a></li><li><a href="http://stackoverflow.com/questions/10844205/html-5-strange-img-always-adds-3px-margin-at-bottom/10844318" target="_blank" rel="external">http://stackoverflow.com/questions/10844205/html-5-strange-img-always-adds-3px-margin-at-bottom/10844318</a></li></ul></div><div class="post-tags"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/">HTML</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/坑/">坑</a></li></ul></div></article><div class="post-nav"><div class="post-nav-item post-nav-next"><a href="/2016/12/14/2016/vue-element/" rel="next" title="vue-element入坑体验"><span>〈 </span>vue-element入坑体验</a></div><div class="post-nav-item post-nav-prev"><a href="/2016/12/20/2016/css-keyframes-animation/" rel="prev" title="css-keyframes-animation">css-keyframes-animation <span>〉</span></a></div></div><div id="toc" class="toc-article"><strong class="toc-title">目录</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#先说现象"><span class="toc-text">先说现象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#解决方法"><span class="toc-text">解决方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么"><span class="toc-text">为什么</span></a></li></ol></div></div></div><footer class="footer text-center"><div id="bottom-inner"><a href="http://hexo.io" target="_blank" class="footer-link">Hexo</a> <a href="https://github.com/microacup/hexo-theme-micorb" target="_blank" class="footer-link">Theme microb</a></div></footer><script>var titleTime,originTitle=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="[闷声发大财中...] "+originTitle,clearTimeout(titleTime)):(document.title="[+1s] "+originTitle,titleTime=setTimeout(function(){document.title=originTitle},2e3))})</script><script>!function(e,n){function t(){cancelAnimationFrame(o),o=requestAnimationFrame(function e(){var t=n.body.scrollTop||n.documentElement.scrollTop;t>0?(n.body.scrollTop=n.documentElement.scrollTop=t-50,o=requestAnimationFrame(e)):cancelAnimationFrame(o)})}e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},function(){var e=n.getElementById("menu-main-post");if(e){var o=n.getElementById("toc");e.title=o?"目录":"回到顶部",e.onclick=function(){o?"block"==o.style.display?o.style.display="none":o.style.display="block":t()}}}();var o=null}(window,document)</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b6d76ecb62c0651d8e5b7f7085f443f1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-78267963-1","auto"),ga("send","pageview")</script></body></html>