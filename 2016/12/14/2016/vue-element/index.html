<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="theme-color" content="#202020"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="keywords" content="坑,vue,element,"><meta name="description" content="vue-element入坑体验"><link rel="icon" type="image/x-icon" href="/logo.png"><title>vue-element入坑体验 [ 大新闻 ]</title><link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" href="/css/microb.css"></head><body><nav class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed"><ul class="pure-menu-list float-r clearfix"><li class="pure-menu-item toc-menu"><a id="menu-main-post" class="pure-menu-link" href="javascript:;"><img class="menu-icon" src="/logo.png" alt="MENU"></a></li></ul><a class="pure-menu-heading" href="/"><h1 class="title">大新闻</h1></a></nav><div class="container" id="content-outer"><div class="inner" id="content-inner"><article class="post" id="post"><header class="post-header text-center"><h1 class="title">vue-element入坑体验</h1><time class="time" datetime="2016-12-14T08:11:54.000Z">2016-12-14</time><hr></header><div class="post-content"><p>最近做了一个基于Vue2.x的实践，之前觉得element-ui项目不错，所以就拿来使用了，中间出现了一些坑，统一在这里说一下体验吧。</p><a id="more"></a><h5 id="1-【解决】Table带checkbox-Cannot-read-property-‘value’-of-undefined"><a href="#1-【解决】Table带checkbox-Cannot-read-property-‘value’-of-undefined" class="headerlink" title="1. 【解决】Table带checkbox Cannot read property ‘value’ of undefined"></a>1. 【解决】Table带checkbox Cannot read property ‘value’ of undefined</h5><p>官网例子Table带checkbox。Chrome下面出现此问题。IE没有。</p><p>三个页面，一个页面含有上述组件，另外两个没有，使用了vue-router，在切换的时候出现此问题。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">store: <span class="function"><span class="keyword">function</span> <span class="title">store</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>._checkboxGroup.value; <span class="comment">// 这里undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>解决方式：</p><p>把路由改为懒加载模式，就好了。因为这样的话，一个页面不会去加载其他页面的js，肯定没有问题。至于为什么会出现这个BUG，还不太清楚。</p><p>懒加载示例如下：</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">routes: [</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">'/'</span>, <span class="attr">component</span>: <span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">require</span>([<span class="string">'../App'</span>], resolve) &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>参考：<a href="https://github.com/ElemeFE/element/issues/1717" target="_blank" rel="noopener">https://github.com/ElemeFE/element/issues/1717</a></p><h5 id="2-【解决】element-ui-vm-h-is-not-a-function"><a href="#2-【解决】element-ui-vm-h-is-not-a-function" class="headerlink" title="2. 【解决】element ui _vm._h is not a function"></a>2. 【解决】element ui _vm._h is not a function</h5><p>这个问题出现的吊就吊在，第一天没问题，上传到git，第二天clone下来再运行就挂了。让人一度怀疑人生。这个问题在github issues上给出了解决方式。</p><blockquote><p>解决方式：</p><p>Vue 2.1.5 将 <code>_h</code> 重命名为 <code>_c</code>，而 Element 目前发的版本都是用以前的 compiler 编译的，导致新版 runtime 无法运行 Element。目前的解决方案是锁定 Vue 的版本为 2.1.4</p></blockquote><figure class="highlight"><table><tr><td class="code"><pre><span class="line"># 重新安装一下版本</span><br><span class="line">  "vue-template-compiler": "2.1.4"</span><br><span class="line">  "vue-loader": "10.0.0"</span><br><span class="line">  "vue": "2.1.4"</span><br></pre></td></tr></table></figure><p>参考：</p><ul><li><p><a href="https://github.com/ElemeFE/element/issues/1706" target="_blank" rel="noopener">2016.12.13 再次 _vm._h is not a function</a></p></li><li><p><a href="https://segmentfault.com/a/1190000007787134" target="_blank" rel="noopener">element框架搭建</a></p><p>​</p></li></ul></div><div class="post-tags"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/element/">element</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/坑/">坑</a></li></ul></div></article><div class="post-nav"><div class="post-nav-item post-nav-next"><a href="/2016/12/08/2016/mysql-utf8mb4-emoji/" rel="next" title="MySQL修改字符集编码为utf8mb4支持emoji存储"><span>〈 </span>MySQL修改字符集编码为utf8mb4支持emoji存储</a></div><div class="post-nav-item post-nav-prev"><a href="/2016/12/20/2016/div-img-3px/" rel="prev" title="解决包含img的div底部多出了3px">解决包含img的div底部多出了3px <span>〉</span></a></div></div><div id="toc" class="toc-article"><strong class="toc-title">目录</strong><ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-【解决】Table带checkbox-Cannot-read-property-‘value’-of-undefined"><span class="toc-text">1. 【解决】Table带checkbox Cannot read property ‘value’ of undefined</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-【解决】element-ui-vm-h-is-not-a-function"><span class="toc-text">2. 【解决】element ui _vm._h is not a function</span></a></li></ol></div></div></div><footer class="footer text-center"><div id="bottom-inner"><a href="http://hexo.io" target="_blank" class="footer-link">Hexo</a> <a href="https://github.com/microacup/hexo-theme-micorb" target="_blank" class="footer-link">Theme microb</a></div></footer><script>var titleTime,originTitle=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="[闷声发大财中...] "+originTitle,clearTimeout(titleTime)):(document.title="[+1s] "+originTitle,titleTime=setTimeout(function(){document.title=originTitle},2e3))})</script><script>!function(e,t){e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},function(){var e=t.getElementById("menu-main-post");if(e){var n=t.getElementById("toc");e.title=n?"目录":"回到顶部",e.onclick=function(){n?"block"==n.style.display?n.style.display="none":n.style.display="block":(cancelAnimationFrame(o),o=requestAnimationFrame(function e(){var n=t.body.scrollTop||t.documentElement.scrollTop;0<n?(t.body.scrollTop=t.documentElement.scrollTop=n-50,o=requestAnimationFrame(e)):cancelAnimationFrame(o)}))}}}();var o=null}(window,document)</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b6d76ecb62c0651d8e5b7f7085f443f1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script"),ga("create","UA-78267963-1","auto"),ga("send","pageview")</script></body></html>