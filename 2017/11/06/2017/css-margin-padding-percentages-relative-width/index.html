<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="theme-color" content="#202020"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="keywords" content="CSS,HTML,W3C,"><meta name="description" content="前端规范实践"><link rel="icon" type="image/x-icon" href="/logo.png"><title>前端规范实践 [ 大新闻 ]</title><link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" href="/css/microb.css"></head><body><nav class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed"><ul class="pure-menu-list float-r clearfix"><li class="pure-menu-item toc-menu"><a id="menu-main-post" class="pure-menu-link" href="javascript:;"><img class="menu-icon" src="/logo.png" alt="MENU"></a></li></ul><a class="pure-menu-heading" href="/"><h1 class="title">大新闻</h1></a></nav><div class="container" id="content-outer"><div class="inner" id="content-inner"><article class="post" id="post"><header class="post-header text-center"><h1 class="title">前端规范实践</h1><time class="time" datetime="2017-11-06T05:38:55.000Z">2017-11-06</time><hr></header><div class="post-content"><p>本文用来记录一些在实践中使用的 W3C 规范，包括易混淆的、不符合常理的点。</p><a id="more"></a><h2 id="margin-和-padding-的父容器依赖"><a href="#margin-和-padding-的父容器依赖" class="headerlink" title="margin 和 padding 的父容器依赖"></a>margin 和 padding 的父容器依赖</h2><p>注意：水平布局下不管是<code>margin</code>还是<code>padding</code>，依赖的都是父容器的<code>width</code>。垂直布局依赖<code>height</code>.</p><p><a href="https://drafts.csswg.org/css-box/#flows" target="_blank" rel="external">https://drafts.csswg.org/css-box/#flows</a></p><table><thead><tr><th>Name:</th><th>padding</th></tr></thead><tbody><tr><td>Percentages:</td><td>width* of containing block</td></tr></tbody></table><table><thead><tr><th>Name:</th><th>margin</th></tr></thead><tbody><tr><td>Percentages:</td><td>width* of containing block</td></tr></tbody></table><blockquote><p>if the <em>containing block</em> is <em>horizontal</em> otherwise the height</p></blockquote><div class="note success"><p>Note that in a <a href="">horizontal flow,</a> percentages on <a href="https://drafts.csswg.org/css-box/#propdef-margin-top" target="_blank" rel="external">margin-top</a> and <a href="https://drafts.csswg.org/css-box/#propdef-margin-bottom" target="_blank" rel="external">margin-bottom</a> are relative to the <em>width</em> of the containing block, not the height (and in vertical flow, <a href="https://drafts.csswg.org/css-box/#propdef-margin-left" target="_blank" rel="external">margin-left</a> and <a href="https://drafts.csswg.org/css-box/#propdef-margin-right" target="_blank" rel="external">margin-right</a> are relative to the height, not the width).</p></div><p><strong>纯 CSS 实现方形布局</strong></p><p>使用 margin/padding-top:100%实现方形布局，可以实现正方形（固定比例）的容器，而无需设置子元素高度。下面的示例展示了图片内容为正方形，不依赖原图比例。也避免了图片未加载时高度塌陷的问题。</p><p>适用场景: 封面图。</p><ul><li>html</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hovereffect"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">'1.png'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><ul><li>css</li></ul><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.hovereffect</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">  <span class="attribute">overflow</span>: hidden;</div><div class="line">  <span class="attribute">position</span>: relative;</div><div class="line">  <span class="attribute">text-align</span>: center;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.hovereffect</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">  <span class="attribute">padding-top</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">img</span> &#123;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li><p>效果</p><p><img src="1.png" alt=""></p></li></ul><div style="text-align:center"><small>正方形图片，不依赖图片高</small></div><p>优点：灵活运用此属性，不依赖 js 和子元素固定高度。</p><p>未完待续…</p><h2 id="把浮动的元素写在前面"><a href="#把浮动的元素写在前面" class="headerlink" title="把浮动的元素写在前面"></a>把浮动的元素写在前面</h2><p>如果一个 div 中既有 float 元素，又有非 float 元素，应该把 float 元素写在非 float 元素前面。</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"home-menu"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"float-r clearfix"</span>&gt;</span></div><div class="line">    ...float元素在前</div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"no-float"</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span></div><div class="line">    ...非float元素在后</div><div class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></div></pre></td></tr></table></figure><div class="note warning"><p>因为浏览器从前向后解析 html，非 float 元素占用了文档流。在解析到 float 元素时，浏览器会监测文档流，当浏览器认为一行剩余空间容纳不下 float 元素，此时会另起一行。所以如果不这么写，float 元素有可能被浏览器换行。把 float 写在最前面，float 元素不占用文档流，所以每次都在第一行分配 float 元素。</p></div></div><div class="post-tags"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/">HTML</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/W3C/">W3C</a></li></ul></div></article><div class="post-nav"><div class="post-nav-item post-nav-next"><a href="/2017/10/30/2017/android-base64-nowrap-to-html-img/" rel="next" title="Android使用base64(Base64.NO_WRAP)并显示到html.img标签中的正确方式"><span>〈 </span>Android使用base64(Base64.NO_WRAP)并显示到html.img标签中的正确方式</a></div><div class="post-nav-item post-nav-prev"><a href="/2017/11/23/2017/learn-spring-cloud-01/" rel="prev" title="学习Spring Cloud：Discovery">学习Spring Cloud：Discovery <span>〉</span></a></div></div><div id="toc" class="toc-article"><strong class="toc-title">目录</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#margin-和-padding-的父容器依赖"><span class="toc-text">margin 和 padding 的父容器依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#把浮动的元素写在前面"><span class="toc-text">把浮动的元素写在前面</span></a></li></ol></div></div></div><footer class="footer text-center"><div id="bottom-inner"><a href="http://hexo.io" target="_blank" class="footer-link">Hexo</a> <a href="https://github.com/microacup/hexo-theme-micorb" target="_blank" class="footer-link">Theme microb</a></div></footer><script>var titleTime,originTitle=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="[闷声发大财中...] "+originTitle,clearTimeout(titleTime)):(document.title="[+1s] "+originTitle,titleTime=setTimeout(function(){document.title=originTitle},2e3))})</script><script>!function(e,n){function t(){cancelAnimationFrame(o),o=requestAnimationFrame(function e(){var t=n.body.scrollTop||n.documentElement.scrollTop;t>0?(n.body.scrollTop=n.documentElement.scrollTop=t-50,o=requestAnimationFrame(e)):cancelAnimationFrame(o)})}e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},function(){var e=n.getElementById("menu-main-post");if(e){var o=n.getElementById("toc");e.title=o?"目录":"回到顶部",e.onclick=function(){o?"block"==o.style.display?o.style.display="none":o.style.display="block":t()}}}();var o=null}(window,document)</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b6d76ecb62c0651d8e5b7f7085f443f1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-78267963-1","auto"),ga("send","pageview")</script></body></html>